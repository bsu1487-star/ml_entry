<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>동남아 2026 신모델2 출시 분석 — 원문(좌) + GPT 의견(우)</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&family=DM+Serif+Display&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --ink:#16192a; --soft:#3d4055; --muted:#8b8fa8;
      --surface:#f7f6f3; --card:#ffffff; --border:#ddd9cf; --border2:#eae7e0;
      --teal:#1a7a6d; --tealBg:#e6f5f2;
      --blue:#2d5db4; --blueBg:#e8eefb;
      --amber:#a67c1a; --amberBg:#faf3de;
      --red:#b43e3e; --redBg:#fce8e8;
      --purple:#6b4da0; --purpleBg:#f0ebf7;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Noto Sans KR',system-ui,-apple-system,sans-serif;
      background:var(--surface);
      color:var(--ink);
      line-height:1.75;
    }
    .app{
      height:100dvh;
      display:grid;
      grid-template-columns: minmax(520px, 1.7fr) minmax(340px, 1fr);
      gap:12px;
      padding:12px;
    }
    @media (max-width: 980px){
      .app{ grid-template-columns: 1fr; height:auto }
    }

    .panel{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:12px;
      overflow:hidden;
      display:flex;
      flex-direction:column;
      min-height: 70dvh;
    }

    .panelHead{
      padding:12px 14px;
      border-bottom:1px solid var(--border2);
      background: #fff;
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
    }
    .title{
      font-weight:900;
      font-size:14px;
      line-height:1.35;
    }
    .meta{
      font-family:'IBM Plex Mono',monospace;
      font-size:11px;
      color:var(--muted);
      white-space:nowrap;
    }
    .hint{
      margin-top:4px;
      font-size:12.5px;
      color:var(--soft);
    }

    /* Left: iframe */
    .frameWrap{ flex:1; background:#fff; }
    iframe{
      width:100%;
      height:100%;
      border:0;
      background:#fff;
    }

    /* Right: review */
    .review{
      flex:1;
      overflow:auto;
      padding:14px 14px 18px;
      background: #fff;
    }
    .review .section{
      border:1px solid var(--border);
      border-radius:12px;
      overflow:hidden;
      margin-bottom:12px;
    }
    .review .sectionHead{
      padding:10px 12px;
      background: #fafafa;
      border-bottom:1px solid var(--border2);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .review .sectionHead b{
      font-size:13.5px;
      line-height:1.3;
    }
    .tag{
      font-family:'IBM Plex Mono',monospace;
      font-size:10px;
      font-weight:700;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid rgba(0,0,0,.06);
      white-space:nowrap;
    }
    .tag.keep{ background: var(--tealBg); color: var(--teal); }
    .tag.fix{ background: var(--amberBg); color: var(--amber); }
    .tag.risk{ background: var(--redBg); color: var(--red); }
    .tag.note{ background: var(--purpleBg); color: var(--purple); }
    .tag.method{ background: var(--blueBg); color: var(--blue); }

    .review .body{
      padding:10px 12px 12px;
      color:var(--soft);
      font-size:13.2px;
      line-height:1.75;
    }
    .review ul{
      margin:8px 0 0 18px;
    }
    .review li{ margin:6px 0; }
    .callout{
      margin-top:10px;
      border-radius:10px;
      padding:10px 10px;
      border:1px solid rgba(0,0,0,.06);
      background:#f8f8f8;
    }
    .callout .t{
      font-weight:900;
      font-size:12.5px;
      margin-bottom:5px;
      color:var(--ink);
    }
    .callout.good{ background: var(--tealBg); border-color: rgba(26,122,109,.2); }
    .callout.warn{ background: var(--amberBg); border-color: rgba(166,124,26,.2); }
    .callout.bad{ background: var(--redBg); border-color: rgba(180,62,62,.2); }
    .callout.info{ background: var(--blueBg); border-color: rgba(45,93,180,.2); }

    .miniToc{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin:8px 0 0;
    }
    .chip{
      font-family:'IBM Plex Mono',monospace;
      font-size:10px;
      font-weight:700;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid var(--border2);
      background:#fff;
      color:var(--soft);
      cursor:pointer;
      user-select:none;
    }
    .chip:hover{ background:#f5f5f5; }
    .mono{
      font-family:'IBM Plex Mono',monospace;
      font-size:11.5px;
      padding:8px 10px;
      border-radius:10px;
      border:1px solid var(--border2);
      background:#fafafa;
      color:var(--ink);
      overflow:auto;
      margin-top:8px;
    }
  </style>
</head>

<body>
  <div class="app">

    <!-- LEFT: 원문(누락 없이) -->
    <section class="panel">
      <div class="panelHead">
        <div>
          <div class="title">원문(Claude가 생성한 HTML) — 좌측 전체 보기</div>
          <div class="hint">아래 문서는 <b>사용자가 제공한 원문을 그대로</b> iframe에 넣었습니다. 스크롤로 전체 내용을 누락 없이 확인하세요.</div>
        </div>
        <div class="meta">LEFT · Original</div>
      </div>

      <div class="frameWrap">
        <iframe id="originalFrame" title="Original Claude HTML" srcdoc='<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>동남아 2026 신모델2 출시 분석 — 요구사항 × 솔루션 맵</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&family=DM+Serif+Display&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --ink: #16192a;
    --ink-soft: #3d4055;
    --ink-muted: #8b8fa8;
    --surface: #f7f6f3;
    --surface-alt: #efeee9;
    --card: #ffffff;
    --accent: #b44a2d;
    --accent-light: #d4836e;
    --accent-bg: #fdf0ec;
    --teal: #1a7a6d;
    --teal-bg: #e6f5f2;
    --blue: #2d5db4;
    --blue-bg: #e8eefb;
    --amber: #a67c1a;
    --amber-bg: #faf3de;
    --purple: #6b4da0;
    --purple-bg: #f0ebf7;
    --red: #b43e3e;
    --red-bg: #fce8e8;
    --border: #ddd9cf;
    --border-light: #eae7e0;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: &#39;Noto Sans KR&#39;, -apple-system, sans-serif;
    background: var(--surface);
    color: var(--ink);
    line-height: 1.75;
    -webkit-font-smoothing: antialiased;
  }

  .page { max-width: 920px; margin: 0 auto; padding: 56px 44px 100px; }

  /* ── Header ── */
  .header { margin-bottom: 52px; }

  .header-top {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 24px;
  }

  .header-badge {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 2.5px;
    text-transform: uppercase;
    color: var(--accent);
    background: var(--accent-bg);
    padding: 5px 12px;
    border-radius: 3px;
  }

  .header-date {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 11px;
    color: var(--ink-muted);
  }

  .header h1 {
    font-family: &#39;DM Serif Display&#39;, serif;
    font-size: 34px;
    font-weight: 400;
    line-height: 1.25;
    color: var(--ink);
    margin-bottom: 12px;
  }

  .header-sub {
    font-size: 15px;
    color: var(--ink-soft);
    font-weight: 300;
    line-height: 1.7;
    max-width: 720px;
  }

  .header-line {
    margin-top: 28px;
    height: 2px;
    background: linear-gradient(90deg, var(--ink) 30%, transparent 100%);
  }

  /* ── TOC ── */
  .toc {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 28px 32px;
    margin-bottom: 48px;
  }

  .toc-title {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--ink-muted);
    margin-bottom: 16px;
  }

  .toc-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 8px 32px;
  }

  .toc-item {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 13.5px;
    color: var(--ink-soft);
  }

  .toc-num {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 11px;
    font-weight: 600;
    color: var(--ink-muted);
    min-width: 24px;
  }

  /* ── Section ── */
  .section { margin-bottom: 56px; }

  .section-header {
    display: flex;
    align-items: baseline;
    gap: 14px;
    margin-bottom: 20px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--ink);
  }

  .section-num {
    font-family: &#39;DM Serif Display&#39;, serif;
    font-size: 36px;
    color: var(--border);
    line-height: 1;
  }

  .section-title {
    font-size: 20px;
    font-weight: 700;
    color: var(--ink);
  }

  .section p, .section-text {
    font-size: 14.5px;
    color: var(--ink-soft);
    line-height: 1.85;
    margin-bottom: 16px;
  }

  /* ── Requirement-Solution Map ── */
  .req-map {
    margin: 24px 0;
  }

  .req-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 6px;
    margin-bottom: 16px;
    overflow: hidden;
  }

  .req-header {
    display: grid;
    grid-template-columns: 56px 1fr auto;
    align-items: center;
    padding: 18px 24px;
    border-bottom: 1px solid var(--border-light);
    background: var(--surface-alt);
  }

  .req-icon {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    font-weight: 700;
  }

  .req-icon.q { background: var(--blue-bg); color: var(--blue); }
  .req-icon.insight { background: var(--teal-bg); color: var(--teal); }

  .req-label {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--ink-muted);
    margin-bottom: 2px;
  }

  .req-title {
    font-size: 15px;
    font-weight: 600;
    color: var(--ink);
  }

  .req-tag {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 10px;
    font-weight: 600;
    padding: 3px 10px;
    border-radius: 3px;
    white-space: nowrap;
  }

  .tag-phase1 { background: var(--teal-bg); color: var(--teal); }
  .tag-phase2 { background: var(--blue-bg); color: var(--blue); }
  .tag-both { background: var(--purple-bg); color: var(--purple); }
  .tag-input { background: var(--amber-bg); color: var(--amber); }

  .req-body {
    padding: 20px 24px;
  }

  .req-body p {
    font-size: 13.5px;
    color: var(--ink-soft);
    line-height: 1.8;
    margin-bottom: 12px;
  }

  .sol-box {
    background: var(--surface);
    border-left: 3px solid var(--teal);
    padding: 16px 20px;
    margin: 12px 0;
    border-radius: 0 4px 4px 0;
  }

  .sol-box.ml { border-left-color: var(--blue); }
  .sol-box.warn { border-left-color: var(--amber); }

  .sol-label {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    margin-bottom: 6px;
  }

  .sol-label.ph1 { color: var(--teal); }
  .sol-label.ph2 { color: var(--blue); }
  .sol-label.caveat { color: var(--amber); }

  .sol-text {
    font-size: 13px;
    color: var(--ink-soft);
    line-height: 1.75;
  }

  .sol-text strong { color: var(--ink); font-weight: 600; }

  /* ── Data Inventory ── */
  .data-section { margin: 28px 0; }

  .data-table-wrap {
    overflow-x: auto;
    border: 1px solid var(--border);
    border-radius: 6px;
    margin: 16px 0;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 13px;
  }

  thead th {
    background: var(--ink);
    color: #fff;
    padding: 12px 16px;
    text-align: left;
    font-weight: 600;
    font-size: 11.5px;
    letter-spacing: 0.3px;
  }

  thead th:first-child { border-radius: 5px 0 0 0; }
  thead th:last-child { border-radius: 0 5px 0 0; }

  tbody td {
    padding: 10px 16px;
    border-bottom: 1px solid var(--border-light);
    vertical-align: top;
  }

  tbody tr:last-child td { border-bottom: none; }
  tbody tr:hover { background: var(--surface-alt); }

  .col-name {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 12.5px;
    font-weight: 500;
    color: var(--ink);
  }

  .col-alias {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 11.5px;
    color: var(--ink-muted);
  }

  .col-type {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 11px;
    padding: 2px 8px;
    border-radius: 3px;
    background: var(--surface-alt);
    color: var(--ink-soft);
  }

  .usage-dot {
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    margin-right: 4px;
  }

  .usage-dot.ph1 { background: var(--teal); }
  .usage-dot.ph2 { background: var(--blue); }

  /* ── Flow Diagram ── */
  .flow-container {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 32px;
    margin: 24px 0;
  }

  .flow-phases {
    display: grid;
    grid-template-columns: 1fr 40px 1fr;
    gap: 0;
    align-items: start;
  }

  .flow-phase {
    padding: 0 8px;
  }

  .flow-phase-title {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-bottom: 16px;
    padding-bottom: 8px;
  }

  .flow-phase-title.ph1 { color: var(--teal); border-bottom: 2px solid var(--teal); }
  .flow-phase-title.ph2 { color: var(--blue); border-bottom: 2px solid var(--blue); }

  .flow-step {
    border: 1px solid var(--border);
    border-radius: 4px;
    padding: 12px 16px;
    margin-bottom: 10px;
    font-size: 12.5px;
    background: var(--surface);
  }

  .flow-step-num {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 10px;
    font-weight: 600;
    color: var(--ink-muted);
  }

  .flow-step-name {
    font-weight: 600;
    color: var(--ink);
    font-size: 13px;
    margin-top: 2px;
  }

  .flow-step-desc {
    font-size: 11.5px;
    color: var(--ink-muted);
    margin-top: 4px;
    line-height: 1.5;
  }

  .flow-arrow {
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 24px;
    color: var(--border);
    padding-top: 60px;
  }

  /* ── Derived Features Table ── */
  .derived-label {
    font-family: &#39;IBM Plex Mono&#39;, monospace;
    font-size: 10px;
    font-weight: 600;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    color: var(--ink-muted);
    margin: 24px 0 8px;
  }

  /* ── Callout ── */
  .callout {
    padding: 22px 26px;
    border-radius: 6px;
    margin: 20px 0;
  }

  .callout.info { background: var(--blue-bg); border: 1px solid rgba(45,93,180,0.2); }
  .callout.warn { background: var(--amber-bg); border: 1px solid rgba(166,124,26,0.2); }
  .callout.success { background: var(--teal-bg); border: 1px solid rgba(26,122,109,0.2); }

  .callout-title {
    font-size: 13px;
    font-weight: 700;
    margin-bottom: 6px;
  }

  .callout.info .callout-title { color: var(--blue); }
  .callout.warn .callout-title { color: var(--amber); }
  .callout.success .callout-title { color: var(--teal); }

  .callout-text {
    font-size: 13px;
    color: var(--ink-soft);
    line-height: 1.75;
  }

  /* ── Summary Matrix ── */
  .matrix-wrap { margin: 24px 0; }

  .matrix-row {
    display: grid;
    grid-template-columns: 200px 1fr 1fr 120px;
    gap: 1px;
    margin-bottom: 1px;
  }

  .matrix-cell {
    padding: 12px 16px;
    font-size: 12.5px;
    background: var(--card);
  }

  .matrix-cell.header {
    background: var(--ink);
    color: #fff;
    font-weight: 600;
    font-size: 11.5px;
  }

  .matrix-cell.label {
    background: var(--surface-alt);
    font-weight: 600;
    color: var(--ink);
  }

  .fit-bar { display: flex; gap: 3px; align-items: center; }
  .fit-dot { width: 10px; height: 10px; border-radius: 2px; background: var(--border-light); }
  .fit-dot.on { background: var(--teal); }
  .fit-dot.partial { background: var(--amber); }

  /* ── Footer ── */
  .footer {
    margin-top: 64px;
    padding-top: 20px;
    border-top: 1px solid var(--border);
    display: flex;
    justify-content: space-between;
    font-size: 11px;
    color: var(--ink-muted);
  }

  /* ── Responsive ── */
  @media (max-width: 700px) {
    .page { padding: 32px 20px 60px; }
    .header h1 { font-size: 24px; }
    .toc-grid { grid-template-columns: 1fr; }
    .flow-phases { grid-template-columns: 1fr; gap: 16px; }
    .flow-arrow { display: none; }
    .matrix-row { grid-template-columns: 1fr 1fr; }
  }

  @media print {
    body { background: #fff; }
    .req-card { break-inside: avoid; }
    .flow-container { break-inside: avoid; }
  }
</style>
</head>
<body>

<div class="page">

  <!-- ═══ HEADER ═══ -->
  <header class="header">
    <div class="header-top">
      <span class="header-badge">Requirements × Solution Map</span>
      <span class="header-date">2025.02 · v2.0</span>
    </div>
    <h1>동남아 2026 신모델2 출시 분석<br>요구사항 — 솔루션 매핑</h1>
    <p class="header-sub">
      비즈니스 질문 → 해결 접근법 → 사용 데이터 → 기대 산출물을 일대일로 매핑하여,
      분석의 범위와 방법론을 한눈에 확인할 수 있도록 정리한 문서입니다.
    </p>
    <div class="header-line"></div>
  </header>

  <!-- ═══ TOC ═══ -->
  <div class="toc">
    <div class="toc-title">목차</div>
    <div class="toc-grid">
      <div class="toc-item"><span class="toc-num">01</span> 원래 요구사항 전문</div>
      <div class="toc-item"><span class="toc-num">05</span> 파이프라인 전체 흐름</div>
      <div class="toc-item"><span class="toc-num">02</span> 요구사항 분해 × 솔루션 맵</div>
      <div class="toc-item"><span class="toc-num">06</span> 가용 데이터 인벤토리</div>
      <div class="toc-item"><span class="toc-num">03</span> 추가 요구사항 (엔트리급)</div>
      <div class="toc-item"><span class="toc-num">07</span> 파생변수 목록</div>
      <div class="toc-item"><span class="toc-num">04</span> 접근법 적합도 매트릭스</div>
      <div class="toc-item"><span class="toc-num">08</span> 산출물 목록 & Next Steps</div>
    </div>
  </div>

  <!-- ═══ SECTION 1: 원래 요구사항 ═══ -->
  <div class="section">
    <div class="section-header">
      <span class="section-num">01</span>
      <span class="section-title">원래 요구사항 전문</span>
    </div>
    <div class="callout info">
      <div class="callout-text" style="font-style: italic;">
        "과거 판매 데이터가 있어 (25년도 데이터에는 25년도 신모델 판매에 대한 손익, 원가 데이터 포함)
        우리가 26년에 신모델을 추가로 출시했을 때, (현재는 1개 모델 출시 예정인데, 총 2개 모델 출시를 고민 중)
        모델 추가시 판매량이 어떻게 될지, 가격은 어떻게 포지션하는게 전체 매출이 최대화되는지,
        이렇게 팔았을 때 매출이익은 어떻게 될지 예상하고 싶대.
        모델을 추가하면 기존 모델 판매량에 카니발라이제이션도 있고, 복잡한 상황이 될 것 같은데,
        이거를 머신러닝을 활용해서 분석할 수 있을까?
        아니면 가정에 오류나 애초에 접근이 잘못되었다면 어떻게 해야할지 제안해줘."
      </div>
    </div>
    <p class="section-text" style="margin-top:12px;">
      추가로, <strong>엔트리급 시리즈에서 1개 vs 2개 신모델 출시 시 판매 효과 비교</strong>도 요청되었습니다.
    </p>
  </div>

  <!-- ═══ SECTION 2: 요구사항 × 솔루션 맵 ═══ -->
  <div class="section">
    <div class="section-header">
      <span class="section-num">02</span>
      <span class="section-title">요구사항 분해 × 솔루션 맵</span>
    </div>
    <p class="section-text">
      원래 질문을 5개의 독립적인 비즈니스 질문으로 분해하고,
      각각에 대해 Phase 1(사례분석/시뮬레이션)과 Phase 2(ML)가 어떻게 답하는지 매핑합니다.
    </p>

    <div class="req-map">

      <!-- Q1 -->
      <div class="req-card">
        <div class="req-header">
          <div class="req-icon q">Q1</div>
          <div>
            <div class="req-label">비즈니스 질문</div>
            <div class="req-title">신모델을 2개 출시하면 판매량이 어떻게 되는가?</div>
          </div>
          <span class="req-tag tag-both">PHASE 1 + 2</span>
        </div>
        <div class="req-body">
          <div class="sol-box">
            <div class="sol-label ph1">Phase 1 — 사례 분석</div>
            <div class="sol-text">
              과거 5년 데이터에서 <strong>동일 시리즈 내 신모델 2개+ 출시 사례</strong>를 자동 탐색합니다.
              해당 연도의 전체 시리즈 판매량 vs 전년도(1모델 출시) 판매량을 비교하여,
              <strong>실측 기반 수량 증감률</strong>을 산출합니다.
              과거 사례가 있으면 이것이 가장 설득력 있는 근거입니다.
            </div>
          </div>
          <div class="sol-box ml">
            <div class="sol-label ph2">Phase 2 — ML 예측</div>
            <div class="sol-text">
              <strong>n_new_in_series</strong>(시리즈 내 신모델 수)를 feature로 포함하여,
              ML이 "2모델 출시 시 수량"을 직접 예측합니다.
              demand_mult 같은 수동 배수를 곱하지 않고, 모델이 패턴을 직접 학습합니다.
            </div>
          </div>
          <div class="sol-box warn">
            <div class="sol-label caveat">유의사항</div>
            <div class="sol-text">
              과거 2모델 출시 사례가 <strong>전혀 없으면</strong> ML도 학습할 수 없습니다.
              이 경우 Phase 1 시뮬레이션(수동 가정)이 유일한 방법이며,
              다른 지역의 사례를 참조해야 합니다.
            </div>
          </div>
        </div>
      </div>

      <!-- Q2 -->
      <div class="req-card">
        <div class="req-header">
          <div class="req-icon q">Q2</div>
          <div>
            <div class="req-label">비즈니스 질문</div>
            <div class="req-title">가격을 어떻게 포지셔닝하면 전체 매출이 최대화되는가?</div>
          </div>
          <span class="req-tag tag-phase2">PHASE 2 + SHAP</span>
        </div>
        <div class="req-body">
          <div class="sol-box ml">
            <div class="sol-label ph2">Phase 2 — ML + SHAP 검증</div>
            <div class="sol-text">
              보수(+12%), 중립(0%), 공격(-10%) 3개 ASP 시나리오로 ML 수량 예측 후 매출을 비교합니다.
              다만 ASP는 내생변수(결과값)이므로, <strong>SHAP 분석</strong>으로
              "가격↑ → 수량↓" 방향성이 실제로 학습되었는지 반드시 검증합니다.
            </div>
          </div>
          <div class="sol-box">
            <div class="sol-label ph1">Phase 1 — 시나리오 시뮬레이션</div>
            <div class="sol-text">
              ML과 독립적으로, 2025년 실적 × ASP 조정 × 카니발 비율로 직접 계산합니다.
              Phase 2와 교차 검증하여 방향이 일치하는지 확인합니다.
            </div>
          </div>
          <div class="sol-box warn">
            <div class="sol-label caveat">한계</div>
            <div class="sol-text">
              "최적 가격은 정확히 X달러"라는 답은 제공 불가합니다.
              대신 <strong>"이 가격 구간에서 매출이 가장 높다"는 방향성</strong>을 제시합니다.
            </div>
          </div>
        </div>
      </div>

      <!-- Q3 -->
      <div class="req-card">
        <div class="req-header">
          <div class="req-icon q">Q3</div>
          <div>
            <div class="req-label">비즈니스 질문</div>
            <div class="req-title">카니발라이제이션은 얼마나 발생하는가?</div>
          </div>
          <span class="req-tag tag-phase1">PHASE 1 주도</span>
        </div>
        <div class="req-body">
          <div class="sol-box">
            <div class="sol-label ph1">Phase 1 — 실측 카니발 비율</div>
            <div class="sol-text">
              과거 2모델 출시 사례에서, <strong>기존 모델(구모델) 판매량의 실제 감소율</strong>을 계산합니다.
              이 실측 비율의 중앙값/사분위를 시나리오 시뮬레이션과 ML 예측 양쪽에 모두 적용합니다.
              하드코딩(60/75/85%)이 아닌 <strong>데이터 기반 비율</strong>입니다.
            </div>
          </div>
          <div class="sol-box ml">
            <div class="sol-label ph2">Phase 2 — ML 보조</div>
            <div class="sol-text">
              ML이 n_new_in_series=2 상황에서 기존 모델 수량을 자체적으로 낮게 예측할 수 있으나,
              이는 Phase 1 실측 비율의 <strong>교차 검증용</strong>으로 활용합니다.
            </div>
          </div>
        </div>
      </div>

      <!-- Q4 -->
      <div class="req-card">
        <div class="req-header">
          <div class="req-icon q">Q4</div>
          <div>
            <div class="req-label">비즈니스 질문</div>
            <div class="req-title">시나리오별 매출이익(공헌이익)은 어떻게 되는가?</div>
          </div>
          <span class="req-tag tag-both">PHASE 1 + 2</span>
        </div>
        <div class="req-body">
          <div class="sol-box">
            <div class="sol-label ph1">Phase 1 — 직접 계산</div>
            <div class="sol-text">
              매출이익 = 예측수량 × ASP × unit_margin<br>
              unit_margin은 <strong>2024~2025년 실적 중앙값</strong>(region × series × inch × 신구 기준)을 사용합니다.
            </div>
          </div>
          <div class="sol-box ml">
            <div class="sol-label ph2">Phase 2 — 동일 방식</div>
            <div class="sol-text">
              ML 예측 수량에 동일한 historical margin을 적용합니다.
              마진 모델은 노이즈가 크므로 별도 ML 학습 대신 실적 기반 고정값을 사용합니다.
            </div>
          </div>
        </div>
      </div>

      <!-- Q5 -->
      <div class="req-card">
        <div class="req-header">
          <div class="req-icon q">Q5</div>
          <div>
            <div class="req-label">비즈니스 질문</div>
            <div class="req-title">ML을 활용해서 분석할 수 있는가? 접근이 잘못되었다면?</div>
          </div>
          <span class="req-tag tag-both">방법론 검토</span>
        </div>
        <div class="req-body">
          <p>
            <strong>결론: ML 활용 가능 — 단, 역할을 명확히 한정해야 합니다.</strong>
          </p>
          <div class="sol-box">
            <div class="sol-label ph1">ML이 잘하는 영역</div>
            <div class="sol-text">
              ✅ 2026년 baseline 수량 예측 (계절성, lifecycle 패턴)<br>
              ✅ n_new_in_series를 통한 2모델 출시 효과 학습 (사례 존재 시)<br>
              ✅ Feature importance / SHAP으로 주요 변수 영향도 분석
            </div>
          </div>
          <div class="sol-box warn">
            <div class="sol-label caveat">ML이 못하는 영역</div>
            <div class="sol-text">
              ❌ "최적 가격"을 정확히 찾는 것 (인과 추정 불가)<br>
              ❌ 카니발라이제이션 비율의 정밀 예측 (반사실적 추론)<br>
              ❌ 과거에 한 번도 없었던 전략의 결과 예측
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- ═══ SECTION 3: 추가 요구사항 (엔트리급) ═══ -->
  <div class="section">
    <div class="section-header">
      <span class="section-num">03</span>
      <span class="section-title">추가 요구사항 — 엔트리급 시리즈 분석</span>
    </div>

    <div class="req-map">
      <div class="req-card">
        <div class="req-header">
          <div class="req-icon q">Q6</div>
          <div>
            <div class="req-label">추가 요구사항</div>
            <div class="req-title">엔트리급에서 신모델 1개 vs 2개 출시 시 판매 효과 비교</div>
          </div>
          <span class="req-tag tag-input">추가 입력 필요</span>
        </div>
        <div class="req-body">
          <p>
            현재 데이터에는 "엔트리급" 구분이 없으므로,
            <strong>시리즈 → tier 매핑 테이블</strong>을 별도 제공받아야 합니다.
          </p>
          <div class="sol-box">
            <div class="sol-label ph1">Phase 1에 추가</div>
            <div class="sol-text">
              시리즈별 tier(엔트리/미드/프리미엄) 매핑 후,
              <strong>tier="엔트리"인 사례만 필터</strong>하여 1모델 vs 2모델 출시 시
              수량/매출/이익 변화를 별도 분석합니다.
            </div>
          </div>
          <div class="sol-box ml">
            <div class="sol-label ph2">Phase 2에 추가</div>
            <div class="sol-text">
              <strong>price_tier</strong>를 ML feature로 추가하여,
              tier별로 2모델 출시 효과가 다른지를 학습합니다.
              SHAP dependence plot에서 tier × n_new_in_series 교호작용을 확인할 수 있습니다.
            </div>
          </div>
          <div class="callout warn" style="margin-top:16px;">
            <div class="callout-title">필요 입력</div>
            <div class="callout-text">
              시리즈 → tier 매핑 CSV (또는 dict)<br>
              형식: <span style="font-family:&#39;IBM Plex Mono&#39;,monospace; font-size:12px;">series,tier</span>
              (예: Crystal UHD → entry, Neo QLED → premium)
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ═══ SECTION 4: 적합도 매트릭스 ═══ -->
  <div class="section">
    <div class="section-header">
      <span class="section-num">04</span>
      <span class="section-title">접근법 적합도 매트릭스</span>
    </div>

    <div class="data-table-wrap">
      <table>
        <thead>
          <tr>
            <th style="width:24%">비즈니스 질문</th>
            <th style="width:22%">Phase 1<br><span style="font-weight:400;font-size:10px;">사례분석 + 시뮬레이션</span></th>
            <th style="width:22%">Phase 2<br><span style="font-weight:400;font-size:10px;">ML + SHAP</span></th>
            <th style="width:16%">최종 권장</th>
            <th style="width:16%">신뢰도</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Q1</strong> 2모델 출시 시 판매량</td>
            <td>★★★★★<br><span style="font-size:11px;color:var(--ink-muted)">실측 비교</span></td>
            <td>★★★★☆<br><span style="font-size:11px;color:var(--ink-muted)">n_new_in_series 학습</span></td>
            <td style="color:var(--teal);font-weight:600;">Phase 1 주도<br>+ Phase 2 검증</td>
            <td>
              <div class="fit-bar"><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot partial"></div></div>
            </td>
          </tr>
          <tr>
            <td><strong>Q2</strong> 가격 포지셔닝</td>
            <td>★★★☆☆<br><span style="font-size:11px;color:var(--ink-muted)">시나리오 비교</span></td>
            <td>★★★☆☆<br><span style="font-size:11px;color:var(--ink-muted)">SHAP 방향성 검증</span></td>
            <td style="color:var(--purple);font-weight:600;">양쪽 교차검증</td>
            <td>
              <div class="fit-bar"><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot partial"></div><div class="fit-dot"></div></div>
            </td>
          </tr>
          <tr>
            <td><strong>Q3</strong> 카니발라이제이션</td>
            <td>★★★★★<br><span style="font-size:11px;color:var(--ink-muted)">실측 비율</span></td>
            <td>★★★☆☆<br><span style="font-size:11px;color:var(--ink-muted)">간접 보조</span></td>
            <td style="color:var(--teal);font-weight:600;">Phase 1 주도</td>
            <td>
              <div class="fit-bar"><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot"></div></div>
            </td>
          </tr>
          <tr>
            <td><strong>Q4</strong> 매출이익 예측</td>
            <td>★★★★☆<br><span style="font-size:11px;color:var(--ink-muted)">직접 계산</span></td>
            <td>★★★★☆<br><span style="font-size:11px;color:var(--ink-muted)">ML 수량 × 마진</span></td>
            <td style="color:var(--purple);font-weight:600;">양쪽 결과 비교</td>
            <td>
              <div class="fit-bar"><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot"></div></div>
            </td>
          </tr>
          <tr>
            <td><strong>Q6</strong> 엔트리급 효과 비교</td>
            <td>★★★★★<br><span style="font-size:11px;color:var(--ink-muted)">tier별 사례 필터</span></td>
            <td>★★★★☆<br><span style="font-size:11px;color:var(--ink-muted)">tier feature 학습</span></td>
            <td style="color:var(--teal);font-weight:600;">Phase 1 주도<br>+ Phase 2 보강</td>
            <td>
              <div class="fit-bar"><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot on"></div><div class="fit-dot partial"></div></div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ═══ SECTION 5: 파이프라인 흐름 ═══ -->
  <div class="section">
    <div class="section-header">
      <span class="section-num">05</span>
      <span class="section-title">파이프라인 전체 흐름</span>
    </div>

    <div class="flow-container">
      <div class="flow-phases">
        <!-- Phase 1 -->
        <div class="flow-phase">
          <div class="flow-phase-title ph1">Phase 1 — ML 없음</div>

          <div class="flow-step">
            <div class="flow-step-num">1-A</div>
            <div class="flow-step-name">유사 사례 탐색</div>
            <div class="flow-step-desc">
              (region, series, year)별 신모델 수 카운트<br>
              → 2모델+ 출시 사례 식별
            </div>
          </div>

          <div class="flow-step">
            <div class="flow-step-num">1-B</div>
            <div class="flow-step-name">실측 카니발 분석</div>
            <div class="flow-step-desc">
              전년도 vs 당해년도 비교<br>
              → 구모델 감소율, 전체 수량/매출 변화<br>
              → <strong>카니발 비율 산출</strong>
            </div>
          </div>

          <div class="flow-step">
            <div class="flow-step-num">1-C</div>
            <div class="flow-step-name">시나리오 시뮬레이션</div>
            <div class="flow-step-desc">
              2025 실적 × 가격조정 × 카니발비율(1-B)<br>
              → 보수/중립/공격 3종 결과<br>
              → 수량, 매출, 이익 비교표
            </div>
          </div>
        </div>

        <!-- Arrow -->
        <div class="flow-arrow">→</div>

        <!-- Phase 2 -->
        <div class="flow-phase">
          <div class="flow-phase-title ph2">Phase 2 — ML + SHAP</div>

          <div class="flow-step">
            <div class="flow-step-num">2-A</div>
            <div class="flow-step-name">ML 수요 모델 학습</div>
            <div class="flow-step-desc">
              AutoGluon (LightGBM/CatBoost)<br>
              핵심 feature: n_new_in_series<br>
              leakage 방지: lag 기반 변수
            </div>
          </div>

          <div class="flow-step">
            <div class="flow-step-num">2-B</div>
            <div class="flow-step-name">SHAP 분석</div>
            <div class="flow-step-desc">
              ASP ↔ 수량 방향성 검증<br>
              → summary plot + dependence plot<br>
              → 가격 시나리오 신뢰도 판단
            </div>
          </div>

          <div class="flow-step">
            <div class="flow-step-num">2-C</div>
            <div class="flow-step-name">ML 시나리오 예측</div>
            <div class="flow-step-desc">
              계절성 반영 skeleton<br>
              + Phase 1 카니발 비율 적용<br>
              → Phase 1 결과와 교차 검증
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="callout success">
      <div class="callout-title">Phase 1 → Phase 2 연결점</div>
      <div class="callout-text">
        Phase 1에서 산출된 <strong>실측 카니발 비율</strong>이 Phase 2의 카니발 적용에 그대로 사용됩니다.
        Phase 1 결과와 Phase 2 결과를 나란히 비교하여 방향이 일치하는지 교차 검증합니다.
        두 Phase의 결과가 유사하면 신뢰도가 높고, 크게 다르면 가정 재검토가 필요합니다.
      </div>
    </div>
  </div>

  <!-- ═══ SECTION 6: 데이터 인벤토리 ═══ -->
  <div class="section">
    <div class="section-header">
      <span class="section-num">06</span>
      <span class="section-title">가용 데이터 인벤토리</span>
    </div>

    <p class="section-text">
      분석에 사용하는 원천 데이터는 Postgres 테이블 <strong>connfin_tv</strong> 1개이며,
      5년치(2021~2025) 월 단위 데이터입니다. SKU 단위는 아니며,
      (지역 × 시리즈 × 인치 × 출시년도 × 신/구) 조합이 하나의 제품그룹입니다.
    </p>

    <div class="data-table-wrap">
      <table>
        <thead>
          <tr>
            <th style="width:15%">DB 컬럼</th>
            <th style="width:15%">코드 alias</th>
            <th style="width:8%">타입</th>
            <th style="width:12%">분류</th>
            <th style="width:32%">설명</th>
            <th style="width:18%">사용 Phase</th>
          </tr>
        </thead>
        <tbody>
          <!-- 시간 -->
          <tr>
            <td class="col-name">&quot;년&quot;</td>
            <td class="col-alias">year</td>
            <td><span class="col-type">INT</span></td>
            <td>시간</td>
            <td>연도 (2021~2025)</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> Phase 1 + 2</td>
          </tr>
          <tr>
            <td class="col-name">&quot;월&quot;</td>
            <td class="col-alias">month</td>
            <td><span class="col-type">INT</span></td>
            <td>시간</td>
            <td>월 (1~12)</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> Phase 1 + 2</td>
          </tr>

          <!-- 지역/제품 -->
          <tr>
            <td class="col-name">&quot;지역&quot;</td>
            <td class="col-alias">region</td>
            <td><span class="col-type">VARCHAR</span></td>
            <td>지역</td>
            <td>판매 지역 (SEA 필터 대상)</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> Phase 1 + 2</td>
          </tr>
          <tr>
            <td class="col-name">&quot;시리즈&quot;</td>
            <td class="col-alias">series</td>
            <td><span class="col-type">VARCHAR</span></td>
            <td>제품</td>
            <td>제품 시리즈명 (tier 매핑 키)</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> Phase 1 + 2</td>
          </tr>
          <tr>
            <td class="col-name">&quot;인치&quot;</td>
            <td class="col-alias">inch</td>
            <td><span class="col-type">VARCHAR</span></td>
            <td>제품</td>
            <td>화면 크기</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> Phase 1 + 2</td>
          </tr>
          <tr>
            <td class="col-name">&quot;출시년도&quot;</td>
            <td class="col-alias">launch_year</td>
            <td><span class="col-type">VARCHAR</span></td>
            <td>제품</td>
            <td>제품 출시 연도</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> Phase 1 + 2</td>
          </tr>
          <tr>
            <td class="col-name">&quot;신구&quot;</td>
            <td class="col-alias">new_old</td>
            <td><span class="col-type">VARCHAR</span></td>
            <td>제품</td>
            <td>&quot;신&quot; = 신모델, &quot;구&quot; = 구모델</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> Phase 1 + 2</td>
          </tr>

          <!-- 실적 -->
          <tr>
            <td class="col-name">&quot;netsalesqty&quot;</td>
            <td class="col-alias">qty</td>
            <td><span class="col-type">NUMERIC</span></td>
            <td>실적 — 수량</td>
            <td>순판매 수량 (ML target의 원천)</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> Phase 1 + 2</td>
          </tr>
          <tr>
            <td class="col-name">&quot;매출$&quot;</td>
            <td class="col-alias">sales_usd</td>
            <td><span class="col-type">NUMERIC</span></td>
            <td>실적 — 매출</td>
            <td>매출액 (USD)</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> Phase 1 + 2</td>
          </tr>
          <tr>
            <td class="col-name">&quot;재료비$&quot;</td>
            <td class="col-alias">material_usd</td>
            <td><span class="col-type">NUMERIC</span></td>
            <td>실적 — 원가</td>
            <td>재료비 (USD)</td>
            <td><span class="usage-dot ph1"></span> Phase 1</td>
          </tr>
          <tr>
            <td class="col-name">&quot;매출차감$&quot;</td>
            <td class="col-alias">netoff_usd</td>
            <td><span class="col-type">NUMERIC</span></td>
            <td>실적 — 차감</td>
            <td>매출차감액 (USD)</td>
            <td><span class="usage-dot ph1"></span> Phase 1</td>
          </tr>
          <tr>
            <td class="col-name">&quot;영업이익$&quot;</td>
            <td class="col-alias">op_usd</td>
            <td><span class="col-type">NUMERIC</span></td>
            <td>실적 — 이익</td>
            <td>영업이익 (USD)</td>
            <td><span class="usage-dot ph1"></span> 참조용</td>
          </tr>
          <tr>
            <td class="col-name">&quot;손익$&quot;</td>
            <td class="col-alias">pnl_usd</td>
            <td><span class="col-type">NUMERIC</span></td>
            <td>실적 — 손익</td>
            <td>손익 (USD)</td>
            <td><span class="usage-dot ph1"></span> 참조용</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="callout warn">
      <div class="callout-title">추가 입력 데이터 (미제공)</div>
      <div class="callout-text">
        <strong>① 시리즈 → tier 매핑 테이블</strong> — 엔트리급 분석(Q6)에 필요. CSV 형태로 제공 예정.<br>
        <strong>② 경쟁사 데이터 (선택)</strong> — year, month, comp_qty, comp_revenue, comp_asp.
        구조가 달라 SKU 대체관계 분석은 불가하나, 시장 압력/가격 프리미엄 지표로 활용 가능.
      </div>
    </div>
  </div>

  <!-- ═══ SECTION 7: 파생변수 ═══ -->
  <div class="section">
    <div class="section-header">
      <span class="section-num">07</span>
      <span class="section-title">파생변수 목록</span>
    </div>

    <p class="section-text">
      원천 컬럼으로부터 생성되는 파생변수입니다. Phase 2 ML feature로 사용되며,
      data leakage 방지를 위해 lag 기반으로 설계되었습니다.
    </p>

    <div class="derived-label">제품 속성 파생</div>
    <div class="data-table-wrap">
      <table>
        <thead>
          <tr>
            <th style="width:22%">변수명</th>
            <th style="width:30%">산출식</th>
            <th style="width:36%">설명</th>
            <th style="width:12%">Phase</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="col-name">inch_num</td>
            <td class="col-alias">parse_inch(inch)</td>
            <td>인치를 숫자로 변환</td>
            <td><span class="usage-dot ph2"></span> 2</td>
          </tr>
          <tr>
            <td class="col-name">launch_year_num</td>
            <td class="col-alias">numeric(launch_year)</td>
            <td>출시년도 숫자화</td>
            <td><span class="usage-dot ph2"></span> 2</td>
          </tr>
          <tr>
            <td class="col-name">months_since_launch</td>
            <td class="col-alias">(year − launch_year) × 12 + (month − 1)</td>
            <td>출시 후 경과 월수</td>
            <td><span class="usage-dot ph2"></span> 2</td>
          </tr>
          <tr>
            <td class="col-name">is_first_12m</td>
            <td class="col-alias">months_since_launch ∈ [0, 11]</td>
            <td>출시 첫 12개월 여부</td>
            <td><span class="usage-dot ph2"></span> 2</td>
          </tr>
          <tr>
            <td class="col-name">lifecycle_phase</td>
            <td class="col-alias">cut(months_since_launch)</td>
            <td>launch / ramp / mature / aging / eol</td>
            <td><span class="usage-dot ph2"></span> 2</td>
          </tr>
          <tr>
            <td class="col-name">is_new</td>
            <td class="col-alias">new_old에 &quot;신&quot; 포함 여부</td>
            <td>신모델 플래그 (0/1)</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> 1 + 2</td>
          </tr>
          <tr style="background:var(--teal-bg);">
            <td class="col-name"><strong>n_new_in_series</strong></td>
            <td class="col-alias">nunique(inch) where is_new=1<br>groupby(region, series, year)</td>
            <td><strong>핵심 feature — 시리즈 내 신모델 수</strong><br>1모델 vs 2모델 효과를 ML이 직접 학습</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> 1 + 2</td>
          </tr>
          <tr>
            <td class="col-name">price_tier</td>
            <td class="col-alias">시리즈 → tier 매핑</td>
            <td>entry / mid / premium (외부 입력 필요)</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> 1 + 2</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="derived-label">재무 파생</div>
    <div class="data-table-wrap">
      <table>
        <thead>
          <tr>
            <th style="width:22%">변수명</th>
            <th style="width:30%">산출식</th>
            <th style="width:36%">설명</th>
            <th style="width:12%">Phase</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="col-name">asp_usd</td>
            <td class="col-alias">sales_usd / qty</td>
            <td>평균판매가 (SHAP 검증 대상)</td>
            <td><span class="usage-dot ph1"></span><span class="usage-dot ph2"></span> 1 + 2</td>
          </tr>
          <tr>
            <td class="col-name">gross_profit_usd</td>
            <td class="col-alias">sales − material − netoff</td>
            <td>매출이익</td>
            <td><span class="usage-dot ph1"></span> 1</td>
          </tr>
          <tr>
            <td class="col-name">unit_margin</td>
            <td class="col-alias">gross_profit / sales</td>
            <td>단위 마진율 (이익 계산용)</td>
            <td><span class="usage-dot ph1"></span> 1</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="derived-label">시간 / Lag 변수 (leakage 방지)</div>
    <div class="data-table-wrap">
      <table>
        <thead>
          <tr>
            <th style="width:25%">변수명</th>
            <th style="width:30%">산출식</th>
            <th style="width:33%">설명</th>
            <th style="width:12%">Phase</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="col-name">month_sin / month_cos</td>
            <td class="col-alias">sin/cos(2π × month / 12)</td>
            <td>계절성 순환 인코딩</td>
            <td><span class="usage-dot ph2"></span> 2</td>
          </tr>
          <tr>
            <td class="col-name">qty_lag1</td>
            <td class="col-alias">같은 제품그룹의 전월 qty</td>
            <td>직전월 판매량 (leakage 방지)</td>
            <td><span class="usage-dot ph2"></span> 2</td>
          </tr>
          <tr>
            <td class="col-name">qty_lag12</td>
            <td class="col-alias">같은 제품그룹의 전년 동월 qty</td>
            <td>전년 동월 판매량</td>
            <td><span class="usage-dot ph2"></span> 2</td>
          </tr>
          <tr>
            <td class="col-name">asp_lag1</td>
            <td class="col-alias">같은 제품그룹의 전월 ASP</td>
            <td>직전월 ASP</td>
            <td><span class="usage-dot ph2"></span> 2</td>
          </tr>
          <tr>
            <td class="col-name">region_month_qty_lag1</td>
            <td class="col-alias">전월 지역 전체 판매량 합계</td>
            <td>시장 규모 proxy (leakage 방지)</td>
            <td><span class="usage-dot ph2"></span> 2</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- ═══ SECTION 8: 산출물 & Next Steps ═══ -->
  <div class="section">
    <div class="section-header">
      <span class="section-num">08</span>
      <span class="section-title">산출물 목록 & Next Steps</span>
    </div>

    <div class="data-table-wrap">
      <table>
        <thead>
          <tr>
            <th style="width:8%">#</th>
            <th style="width:32%">산출물</th>
            <th style="width:12%">형식</th>
            <th style="width:12%">Phase</th>
            <th style="width:36%">내용</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td><strong>과거 유사 사례 목록</strong></td>
            <td>CSV</td>
            <td><span class="req-tag tag-phase1" style="font-size:9px">Phase 1</span></td>
            <td>2모델+ 출시 사례의 region, series, year, 모델수</td>
          </tr>
          <tr>
            <td>2</td>
            <td><strong>실측 카니발 분석 결과</strong></td>
            <td>CSV</td>
            <td><span class="req-tag tag-phase1" style="font-size:9px">Phase 1</span></td>
            <td>사례별 카니발 비율, 수량/매출/이익 변화율</td>
          </tr>
          <tr>
            <td>3</td>
            <td><strong>시나리오 시뮬레이션 비교표</strong></td>
            <td>CSV</td>
            <td><span class="req-tag tag-phase1" style="font-size:9px">Phase 1</span></td>
            <td>BASE / 보수 / 중립 / 공격 — 수량, 매출, 이익, 마진</td>
          </tr>
          <tr>
            <td>4</td>
            <td><strong>ML Feature Importance</strong></td>
            <td>콘솔</td>
            <td><span class="req-tag tag-phase2" style="font-size:9px">Phase 2</span></td>
            <td>상위 10개 feature 중요도</td>
          </tr>
          <tr>
            <td>5</td>
            <td><strong>SHAP Summary Plot</strong></td>
            <td>PNG</td>
            <td><span class="req-tag tag-phase2" style="font-size:9px">Phase 2</span></td>
            <td>전체 feature SHAP 기여도 시각화</td>
          </tr>
          <tr>
            <td>6</td>
            <td><strong>SHAP ASP Dependence Plot</strong></td>
            <td>PNG</td>
            <td><span class="req-tag tag-phase2" style="font-size:9px">Phase 2</span></td>
            <td>ASP ↔ 수량 방향성 시각화 (핵심 검증)</td>
          </tr>
          <tr>
            <td>7</td>
            <td><strong>ML 시나리오 비교표</strong></td>
            <td>CSV</td>
            <td><span class="req-tag tag-phase2" style="font-size:9px">Phase 2</span></td>
            <td>ML 기반 보수/중립/공격 결과</td>
          </tr>
          <tr>
            <td>8</td>
            <td><strong>Phase 1 vs Phase 2 교차검증 비교</strong></td>
            <td>콘솔</td>
            <td><span class="req-tag tag-both" style="font-size:9px">최종</span></td>
            <td>두 Phase 결과의 방향 일치 여부 확인</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="callout info" style="margin-top:28px;">
      <div class="callout-title">Next Steps — 진행을 위해 필요한 것</div>
      <div class="callout-text">
        <strong>1. 시리즈 → tier 매핑 테이블 제공</strong> — CSV 또는 dict 형태 (series, tier 컬럼)<br>
        <strong>2. PG_URI 환경변수 설정</strong> — Postgres 접속 정보<br>
        <strong>3. (선택) 경쟁사 데이터 CSV</strong> — 있으면 price_premium_idx 등 추가 분석 가능<br>
        <strong>4. 코드 실행 → 결과 확인 → 파라미터 조정</strong> — 반복적으로 가정을 정제
      </div>
    </div>
  </div>

  <!-- ═══ FOOTER ═══ -->
  <div class="footer">
    <span>TV사업부 · 경쟁분석팀</span>
    <span>Internal Use Only</span>
  </div>

</div>

</body>
</html>'></iframe>
      </div>
    </section>

    <!-- RIGHT: 내 의견만 주제별로 -->
    <section class="panel">
      <div class="panelHead">
        <div>
          <div class="title">GPT 의견(우측) — 주제별 코멘트만</div>
          <div class="hint">우측은 “원문을 바꾸지 않고” <b>추가 의견만</b> 붙였습니다. (좌측 문서 위치와 함께 보며 검토용)</div>
          <div class="miniToc">
            <div class="chip" onclick="scrollToId('s-overall')">Overall</div>
            <div class="chip" onclick="scrollToId('s-q1')">Q1</div>
            <div class="chip" onclick="scrollToId('s-q2')">Q2</div>
            <div class="chip" onclick="scrollToId('s-q3')">Q3</div>
            <div class="chip" onclick="scrollToId('s-q4')">Q4</div>
            <div class="chip" onclick="scrollToId('s-q5')">Q5</div>
            <div class="chip" onclick="scrollToId('s-q6')">Q6</div>
            <div class="chip" onclick="scrollToId('s-data')">Data</div>
            <div class="chip" onclick="scrollToId('s-feat')">Features</div>
            <div class="chip" onclick="scrollToId('s-next')">Next Steps</div>
          </div>
        </div>
        <div class="meta">RIGHT · Review</div>
      </div>

      <div class="review">

        <div class="section" id="s-overall">
          <div class="sectionHead">
            <b>Overall — 구조/방향성 총평</b>
            <span class="tag keep">KEEP</span>
          </div>
          <div class="body">
            <ul>
              <li><b>Phase 1(실측) 주도</b>로 Q1/Q3의 신뢰도를 먼저 확보하고, Phase 2(ML)는 “검증/보강”으로 두는 전략이 좋습니다.</li>
              <li><b>ASP 내생성</b>을 문서에서 인지하고 “정확한 최적가 단정 불가”로 톤을 잡은 점이 안전합니다.</li>
              <li>Phase 1 산출(카니발 비율)을 Phase 2에도 공유하는 연결점은 설득력 강화에 유리합니다.</li>
            </ul>
            <div class="callout bad">
              <div class="t">가장 큰 리스크 1개만 꼽으면</div>
              <div>현재 <b>n_new_in_series 정의</b>(신모델에서 nunique(inch))가 “모델 수”를 제대로 대표하지 못할 가능성이 큽니다. 이 부분만 명확히 재정의해도 전체 신뢰도가 크게 올라갑니다.</div>
            </div>
          </div>
        </div>

        <div class="section" id="s-q1">
          <div class="sectionHead">
            <b>Q1 — 2모델 출시 시 판매량</b>
            <span class="tag risk">CRITICAL</span>
          </div>
          <div class="body">
            <div><b>핵심:</b> “2개 모델”을 데이터가 어떻게 관측하느냐가 승부처입니다.</div>
            <ul>
              <li>현재 테이블은 SKU가 아니라 제품그룹(지역×시리즈×인치×출시년도×신/구)이라 “모델 개수”를 직접 알기 어렵습니다.</li>
              <li>문서 정의처럼 <b>nunique(inch)</b>는 “모델 수”가 아니라 “라인업 폭(인치 커버리지)”가 될 수 있어요.</li>
            </ul>
            <div class="callout warn">
              <div class="t">권장 수정(둘 중 하나)</div>
              <div>
                A) 모델 수 대신 <b>라인업 폭 지표</b>로 명시 재정의 (예: new_inch_count_in_series_year / new_groups_count...)<br>
                B) 진짜 “모델 1 vs 2”가 필요하면 최소 <b>model_code / lineup_id</b> 같은 식별자 추가가 필요
              </div>
            </div>
          </div>
        </div>

        <div class="section" id="s-q2">
          <div class="sectionHead">
            <b>Q2 — 가격 포지셔닝(매출 최대화)</b>
            <span class="tag fix">HARDEN</span>
          </div>
          <div class="body">
            <div><b>핵심:</b> SHAP은 “모델 설명”이지 “인과”는 아닙니다. 특히 asp_usd는 결과값 성격이 강합니다.</div>
            <ul>
              <li>가능하면 ASP는 동월값보다 <b>lag(asp_lag1/3/12)</b> 중심으로 사용하세요.</li>
              <li>평가 방식은 반드시 <b>시간 분할 검증</b>(예: 2021–2024 train / 2025 test)으로 “미래 예측” 구조를 문서에 명시하세요.</li>
              <li>가격 시나리오는 “asp 자체 조작”보다 <b>lag 가격지표를 가정 변경</b> 형태가 더 안전합니다.</li>
            </ul>
            <div class="callout info">
              <div class="t">실무 톤(의사결정용) 추천</div>
              <div>“최적가 X”가 아니라 “이 가격 구간에서 매출이 상대적으로 높을 가능성” + “SHAP/검증 결과로 신뢰도 등급”을 같이 제시.</div>
            </div>
          </div>
        </div>

        <div class="section" id="s-q3">
          <div class="sectionHead">
            <b>Q3 — 카니발라이제이션 규모</b>
            <span class="tag fix">DEFINE</span>
          </div>
          <div class="body">
            <div><b>핵심:</b> “구모델이 무엇인지”와 “비교 기준(연간/동월/라이프사이클)” 정의가 필요합니다.</div>
            <ul>
              <li>추천: <b>YoY 동월 기준</b>과 <b>출시경과월 정렬</b> 2개를 병렬 산출.</li>
              <li>감소율만 말고 <b>cannibal_ratio = (-Δold_qty)/(+Δnew_qty)</b> 같은 비율과 <b>시리즈 전체 net uplift(신+구 합)</b>을 같이.</li>
            </ul>
            <div class="callout warn">
              <div class="t">문서에 한 줄로라도 넣으면 좋은 정의</div>
              <div>“old_qty는 (region×series×inch) 기준 전년도 동일 월의 ‘구’ 그룹 합” 처럼 계산 단위를 고정해 주세요.</div>
            </div>
          </div>
        </div>

        <div class="section" id="s-q4">
          <div class="sectionHead">
            <b>Q4 — 매출이익/공헌이익</b>
            <span class="tag fix">ROBUST</span>
          </div>
          <div class="body">
            <div><b>핵심:</b> unit_margin = gross_profit/sales 는 분모 0, 음수/차감 급등월에 취약합니다.</div>
            <ul>
              <li>마진은 <b>클리핑/윈저라이징</b>(예: -50%~+50%) 같은 규칙을 명시하세요.</li>
              <li>세분화 레벨 표본 부족 시 <b>백오프(backoff)</b> 규칙(상위 레벨 중앙값으로 대체)을 문서에 넣으면 안정적입니다.</li>
            </ul>
          </div>
        </div>

        <div class="section" id="s-q5">
          <div class="sectionHead">
            <b>Q5 — ML 가능/한계</b>
            <span class="tag keep">GOOD</span>
          </div>
          <div class="body">
            <ul>
              <li>“ML이 못하는 것(최적가 단정/정밀 카니발/전례 없는 전략)”을 문서에 명확히 적은 건 좋습니다.</li>
              <li>여기에 <b>Phase 2 Go/No-go 게이트</b>(사례 수, 결측/0비중, 연속성)만 추가하면 훨씬 실전형이 됩니다.</li>
            </ul>
          </div>
        </div>

        <div class="section" id="s-q6">
          <div class="sectionHead">
            <b>Q6 — 엔트리급(1 vs 2) 비교</b>
            <span class="tag note">OK+</span>
          </div>
          <div class="body">
            <ul>
              <li>series→tier 매핑 요구는 합리적입니다.</li>
              <li>다만 시리즈 내에서도 인치/연식에 따라 포지션이 달라질 수 있으니, 옵션으로 <b>ASP 분위수 기반 tier 보정</b>도 열어두면 좋습니다.</li>
            </ul>
            <div class="mono">추천 옵션 예: price_tier2 = quantile_bin(asp_lag12, by=region)</div>
          </div>
        </div>

        <div class="section" id="s-data">
          <div class="sectionHead">
            <b>Data Inventory — 데이터 구조 관점 체크</b>
            <span class="tag method">CHECK</span>
          </div>
          <div class="body">
            <ul>
              <li>데이터가 SKU가 아니라 “제품그룹”이므로, “모델 수/대체관계”를 정밀하게 만들기 어렵습니다.</li>
              <li>lag 변수를 쓰려면 그룹의 월별 연속성이 필요합니다(중간 공백 많으면 lag가 깨짐).</li>
              <li>qty=0 비중이 크면 target 변환(log1p)나 zero-inflation 대응이 필요할 수 있습니다.</li>
            </ul>
          </div>
        </div>

        <div class="section" id="s-feat">
          <div class="sectionHead">
            <b>Features — 파생변수 중 보강 포인트</b>
            <span class="tag fix">TUNE</span>
          </div>
          <div class="body">
            <ul>
              <li><b>n_new_in_series</b>는 “모델 수”인지 “라인업 폭”인지 명시적으로 이름/정의를 바꾸는 걸 추천합니다.</li>
              <li>가격 변수는 asp_usd보다 <b>asp_lag*</b> 위주로(내생성 완화).</li>
              <li>seasonality는 sin/cos 좋고, lifecycle_phase도 좋아요(다만 cut 기준은 문서/코드에서 일관되게).</li>
            </ul>
          </div>
        </div>

        <div class="section" id="s-next">
          <div class="sectionHead">
            <b>Next Steps — 문서 v2.1 최소 보완안</b>
            <span class="tag fix">ADD</span>
          </div>
          <div class="body">
            <div class="callout good">
              <div class="t">“진행 전 자동 진단 리포트(1페이지)”를 산출물로 추가 추천</div>
              <div>
                ① 2모델(또는 라인업폭≥2) 사례 수 / 분포<br>
                ② qty=0 비중, 결측, 그룹 연속성(lag 가능 여부)<br>
                ③ target 분포(heavy tail) 및 변환 필요성<br>
                ④ Phase2 시간 분할 평가 결과(기본 점수)
              </div>
            </div>
            <div class="callout warn">
              <div class="t">정의 보강 5줄 요약</div>
              <div>
                ① n_new_in_series 재정의(모델 수 vs 라인업 폭) 명확화<br>
                ② Q2는 asp_lag 중심 + 시간 분할 검증<br>
                ③ Q3는 YoY 동월 + lifecycle 정렬 병렬 산출<br>
                ④ Q4 마진은 클리핑 + 백오프 규칙<br>
                ⑤ Phase2 Go/No-go 게이트 추가
              </div>
            </div>
          </div>
        </div>

      </div>
    </section>

  </div>

  <script>
    function scrollToId(id){
      const el = document.getElementById(id);
      if(!el) return;
      el.scrollIntoView({behavior:'smooth', block:'start'});
    }
  </script>
</body>
</html>